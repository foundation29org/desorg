<div class="row">
    <div  class="col-md-12 center-elements mt-3" *ngIf="!loadedData">
        <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
      </div>
	<div class="col-xl-8 col-lg-12 col-12" #ContainerRef1 *ngIf="loadedData">
		<p class="mt-3">
			Total Patients: {{totalPatients}}
		</p>
		<p class="mb-0 mt-3">
			<mat-checkbox [(ngModel)]="allSelected" (change)="allChanged()">Select/Deselect All</mat-checkbox>
		</p>
		<mat-select class="form-control" id="choiseset" name="choiseset" multiple [(ngModel)]="countriesSelected" (selectionChange)="countriesChanged()">
			<mat-option *ngFor="let country of countries" value="{{country.name}}">{{country.name}} ({{country.value}} patients)</mat-option>
		</mat-select>

		<!--<div class="height-200 mt-3">
			<p *ngFor="let element of lineChart ; let i = index">
				{{element.name}}: {{element.value}}
			</p>
		</div>-->
		<div class="mt-3 row">
			<div class="col-md-12">
				<h4>Actual drugs</h4>
				Total drugs: {{totalDrugs}}
				Patients: {{numberPatients.length}}
			</div>
			
			<ngx-charts-bar-horizontal
			[view]="[(ContainerRef1.offsetWidth-90), 400]"                                    
					[scheme]="'forest'"
					[results]="lineChart"
					[xAxis]="true" [yAxis]="true"
					[legend]="false" [legendPosition]="'below'" [showXAxisLabel]="showXAxisLabel"
					[showYAxisLabel]="showYAxisLabel" [xAxisLabel]="barChartXAxisLabel"
					[yAxisLabel]="barChartYAxisLabel">
				</ngx-charts-bar-horizontal>

			<div class="col-md-12">
				<h4>Old drugs</h4>
				Total drugs: {{totalDrugs2}}
				Patients: {{numberPatients2.length}}
			</div>
			
			<ngx-charts-bar-horizontal
			[view]="[(ContainerRef1.offsetWidth-90), 400]"                                    
					[scheme]="'forest'"
					[results]="lineChart2"
					[xAxis]="true" [yAxis]="true"
					[legend]="false" [legendPosition]="'below'" [showXAxisLabel]="showXAxisLabel"
					[showYAxisLabel]="showYAxisLabel" [xAxisLabel]="barChartXAxisLabel"
					[yAxisLabel]="barChartYAxisLabel">
				</ngx-charts-bar-horizontal> 
		</div>
		<!--<div class="card">
			<div class="card-header">
				<h4 class="card-title">{{'do.drugs' | translate }}</h4>
			</div>
			<div class="card-body table-responsive">
				<table class="table text-center">
					<thead>
						<tr>
							<th>Name</th>
							<th>Dose</th>
							<th>Start</th>
							<th>End</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let element of data ; let i = index">
							<td>{{element.resource.contained[0].code.coding[0].display}}</td>
							<td>{{element.resource.dosage[0].doseAndRate[0].doseQuantity.value}} mg/day</td>
							<td>{{element.resource.effectivePeriod.start |date}}</td>
							<td *ngIf="element.resource.effectivePeriod.end!=null">{{element.resource.effectivePeriod.end |date}}</td>
							<td *ngIf="element.resource.effectivePeriod.end==null">Is taken</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>-->
	</div>
</div>